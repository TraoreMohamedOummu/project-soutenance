<div class="card card-primary m-4">
    <div class="card-header">
      <h3 class="card-title">
        {{ property ? "Modification du bien" : "Ajout d'un bien"}}
      </h3>
    </div>
    <!-- /.card-header -->
    <!-- form start -->
    <form [formGroup]="formProperty">
      <div class="card-body">
        
        <div class="form-group">
          <label for="nom">Nom</label>
          <input type="text" class="form-control" id="nom"
          formControlName="name"
           placeholder="Entrer le nom du bien">
           <div class="text-danger" *ngIf="formProperty.controls['name'].invalid
            && (formProperty.controls['name'].touched || formProperty.controls['name'].dirty) ">
               <span *ngIf="formProperty.controls['name'].errors?.['required']">
                le Champ est requis
               </span>
           </div>
        </div>
        <div class="row">
            <div class="form-group col-6">
                <label for="role">Type de bien</label>
                <select class="custom-select rounded-0" id="role"
                formControlName="type_property_id"
                 >
                <ng-container *ngFor="let typeProperty of typeProperties">
                 
                    <option [value]="typeProperty.id">{{typeProperty.name}}</option>
                 
                </ng-container>
                </select>
                <div class="text-danger" *ngIf="formProperty.controls['type_property_id'].invalid &&
                         (formProperty.controls['type_property_id'].dirty)">
                         <span *ngIf="formProperty.controls['type_property_id'].errors?.['type_property_id']">
                           Le Champs est requis
                         </span>
                </div>
            </div>
            <div class="form-group col-6">
                <label for="agence">Agence</label>
                <select class="custom-select rounded-0" id="agence"
                formControlName="agence_id"
                 >
                <ng-container *ngFor="let agence of agences">
                 
                    <option [value]="agence.id">{{agence.name}}</option>
                 
                </ng-container>
                </select>
                <div class="text-danger" *ngIf="formProperty.controls['agence_id'].invalid &&
                         (formProperty.controls['agence_id'].dirty)">
                         <span *ngIf="formProperty.controls['agence_id'].errors?.['agence_id']">
                           Le Champs est requis
                         </span>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="form-group col-6">
                <label for="ville">Ville</label>
                <select class="custom-select rounded-0" id="ville"
                formControlName="city_id"
                 >
                <ng-container *ngFor="let city of cities">
                 
                    <option [value]="city.id">{{city.name}}</option>
                 
                </ng-container>
                </select>
                <div class="text-danger" *ngIf="formProperty.controls['city_id'].invalid &&
                         (formProperty.controls['city_id'].dirty)">
                         <span *ngIf="formProperty.controls['city_id'].errors?.['city_id']">
                           Le Champs est requis
                         </span>
                </div>
            </div>
            <div class="form-group col-6">
                <label for="price">Prix</label>
                <input type="text" class="form-control" id="price"
                formControlName="price"
                 placeholder="Entrer le prix">
                 <div class="text-danger" *ngIf="formProperty.controls['price'].invalid
                  && (formProperty.controls['price'].touched || formProperty.controls['price'].dirty) ">
                     <span *ngIf="formProperty.controls['price'].errors?.['required']">
                      le Champ est requis
                     </span>
                 </div>
              </div>
        </div>

        <div class="form-group">
            <label for="quartier">Quartier</label>
            <input type="text" class="form-control" id="quartier"
            formControlName="quartier"
             placeholder="Entrer le quartier du bien">
             <div class="text-danger" *ngIf="formProperty.controls['quartier'].invalid
              && (formProperty.controls['quartier'].touched || formProperty.controls['quartier'].dirty) ">
                 <span *ngIf="formProperty.controls['quartier'].errors?.['required']">
                  le Champ est requis
                 </span>
             </div>
        </div>
        <div class="form-group">
            <label>Description</label>
            <textarea class="form-control" rows="3"
            formControlName="desc"
             placeholder="Enter ...">

            </textarea>
          </div>
        
      </div>
      <!-- /.card-body -->

      <div class="card-footer">
        <button (click)="onSubmit()" type="button" class="btn btn-primary">
            <i *ngIf="!property"  class="nav-icon fa fa-plus" aria-hidden="true"></i>
            <i *ngIf="property"  class="nav-icon fa fa-edit" aria-hidden="true"></i>
            {{property ? "Modifier" :"Ajouter"}}
            <i class="mx-2 fa fa-spinner fa-spin" *ngIf="loading"></i>
        </button>
        <button (click)="back()" type="button" class="btn btn-danger mx-2 ">
            Annuler
        </button>
      </div>
    </form>
  </div>

